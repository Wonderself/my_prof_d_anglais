<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sarah | Job Interview Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F8FAFC; height: 100dvh; overflow: hidden; }
        
        /* Smooth fade for elements */
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Chat bubbles animation */
        .bubble { opacity: 0; transform: translateY(10px); animation: slideUp 0.3s ease-out forwards; }
        @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }

        /* Correction feedback reveal effect */
        .blur-reveal { filter: blur(6px); cursor: pointer; transition: all 0.3s ease; background: rgba(0,0,0,0.05); color: transparent; user-select: none; }
        .blur-reveal:hover { filter: blur(3px); }
        .blur-reveal.revealed { filter: blur(0); background: transparent; color: inherit; user-select: text; cursor: text; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }
    </style>
</head>
<body class="text-slate-800 flex flex-col">

    <div id="loader-screen" class="fixed inset-0 bg-slate-900 z-50 flex flex-col items-center justify-center transition-opacity duration-500">
        <div class="relative w-20 h-20 mb-4">
            <div class="absolute inset-0 border-4 border-slate-700 rounded-full"></div>
            <div class="absolute inset-0 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
        </div>
        <p class="text-slate-400 text-xs font-bold tracking-[0.2em] uppercase animate-pulse">Initializing Sarah AI...</p>
    </div>

    <div id="setup-screen" class="fixed inset-0 bg-white z-40 flex flex-col md:flex-row transition-transform duration-700 ease-in-out">
        
        <div class="w-full md:w-1/2 h-[35vh] md:h-full bg-slate-100 relative overflow-hidden flex items-center justify-center shrink-0">
            <video src="idle.mp4" autoplay loop muted playsinline class="absolute inset-0 w-full h-full object-cover opacity-90"></video>
            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent md:bg-gradient-to-r"></div>
            <div class="relative z-10 text-center text-white p-6 md:hidden">
                <h1 class="text-3xl font-bold mb-1">Sarah</h1>
                <p class="text-blue-300 text-xs font-bold tracking-widest uppercase">AI Job Interviewer</p>
            </div>
        </div>

        <div class="w-full md:w-1/2 h-full flex flex-col overflow-y-auto bg-white">
            <div class="flex-1 flex flex-col justify-center max-w-lg mx-auto w-full p-6 md:p-12">
                
                <div class="hidden md:block mb-8">
                    <h1 class="text-4xl font-bold text-slate-900 mb-2">Ready for your interview?</h1>
                    <p class="text-slate-500">Configure your session and practice with Sarah.</p>
                </div>

                <form onsubmit="event.preventDefault(); startSession();" class="space-y-5 fade-in">
                    <div>
                        <label class="block text-xs font-bold uppercase text-slate-400 tracking-wider mb-2">Your Name</label>
                        <input id="inp-name" type="text" class="w-full p-4 bg-slate-50 rounded-xl font-semibold border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition